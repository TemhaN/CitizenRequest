@model IEnumerable<CitizenRequest.Models.Response>

@foreach (var response in Model.OrderBy(r => r.ResponseDate))
{
    <div class="chat-message @(response.IsFromCitizen ? "citizen-message" : "admin-message") mb-3 p-3 rounded-3 shadow-sm">
        <div class="message-header d-flex justify-content-between align-items-center mb-2">
            <div>
                @if (response.IsFromCitizen)
                {
                    <span class="badge bg-primary rounded-pill py-1 px-3">
                        <i class="fas fa-user me-2"></i>Вы
                    </span>
                }
                else
                {
                    <span class="badge bg-secondary rounded-pill py-1 px-3">
                        <i class="fas fa-user-shield me-2"></i>Администратор
                        @if (response.Admin != null)
                        {
                            <span class="text-white-50">(@response.Admin.FullName)</span>
                        }
                    </span>
                }
            </div>
            <small class="text-muted">
                <i class="fas fa-clock me-1"></i>@response.ResponseDate.ToString("dd.MM.yyyy HH:mm")
            </small>
        </div>
        <div class="message-content p-2 rounded-2">
            @response.ResponseText
        </div>
    </div>
}

